<!-- TOC -->

- [マテリアライズドビューmaterialized view](#マテリアライズドビューmaterialized view)
- [利点](#利点)
- [欠点](#欠点)

<!-- /TOC -->

#### マテリアライズドビューmaterialized view
- マテリアライズドビューmaterialized view
日本語に直すと「実体化されたビュー」で、文字通り、実データ（レコード）を保持するビューの事。
リレーショナルデータベースで作成されたビューにある程度の永続性を持たせ、
参照するたびに再検索しなくていいようにしたもの。
特定のビューを頻繁に参照する場合に性能が向上する。

一般的なビューをもう一度参照する場合は再度同じ検索・抽出をやり直さなければならない。
一方、待てリアライズドビューは抽出したデータを元のテーブルから複製し、足跡のテーブルを作成して保存する。
再検索せずに何度も繰り返し参照することができ、同じビューを繰り返し利用する場合に読み込み速度が向上する。
データベース管理システム(DBMS)内部では一種のテーブルとして扱われるため、テーブルで利用できる機能
(のうち、通常のビューでは利用できないもの)のほとんどを利用することができる。

元になるテーブルが更新されると自動的にマテリアライズドビューにも反映されるが、
更新頻度によってはある程度の時間差が生じるため、必ず最新のデータを取得できるとは限らない。

通常の用途ではマテリアライズドビューは参照専用として作成・運用されるが、DBMSによっては
データの更新や書き込みが可能なマテリアライズドビューを作成することもできる。
更新を参照元のテーブルにも反映させる動作モードと、待てリアライズドビューにのみ反映させ、
次に参照元と同期すると上書きされて失われる動作モードがある。

一言で言うなら、「SQLの結果をテーブルとして保持する仕組み」といったところ。
「ビュー」として捉えるよりも、「テーブル」として捉えた方がわかりやすい。


#### 利点
- 実データを保持するので、通常のビューと異なり、アクセス時にビュー定義のSELECT文が実行されない。
- 主キーをはじめとしてインデックスを作成することができる。
要するに、普通のテーブルと同じ扱いができる、と言うのが大きな利点。
#### 欠点
- リフレッシュの管理が必要である。
- 普通のテーブルと同様にストレージを消費する。
リフレッシュを怠れば、元のテーブルとデータが食い違ってしまう。
定期的にリフレッシュを行って元のテーブルとデータの同期を取る必要がある。
これは、通常のテーブルでデータマート（データウェアハウスの中から特定の目的に合わせた部分を取り出したもの）を作る場合と同じ。
実データを保持するため、ストレージの容量も消費することになる。